# Övning 1. 

**Installera:**

-  Docker Desktop (för ditt OS) "stable"  [Get Docker](https://docs.docker.com/get-docker/)

Efter installationen får du starta om datorn. 

Antingen skapa själv ett nytt .Net Core MVC projekt eller klona ner detta projektet:  [“Hello world” .NET Core webb applikationen](https://github.com/skjohansen/SimpleWebHalloWorld)

Skapa en Dockerfil i rotmappen. Döp den till: "Dockerfile" Lägg till dessa textrader:  

```dockerfile
FROM mcr.microsoft.com/dotnet/core/sdk:3.1 AS build-env
WORKDIR /app

\# Copy csproj and restore as distinct layers
COPY *.csproj ./
RUN dotnet restore

\# Copy everything else and build
COPY . ./
RUN dotnet publish -c Release -o out

\# Build runtime image
FROM mcr.microsoft.com/dotnet/core/aspnet:3.1
WORKDIR /app
COPY --from=build-env /app/out .
ENTRYPOINT ["dotnet", "SimpleWebHalloWorld.dll"]
```

Skapa en dockerignore fil. Döp den till: ".dockerignore". Lägg till följande text: 

```text
# .dockerignore

Dockerfile
[b|B]in
[O|o]bj
```

Ställ dig i rotmappen med en terminal eller kommandotolk och skriv in dessa kommandon. 

Första kommandot för att bygga en Image från vår Dockerfil. Det som står efter "-t" är namnet på vår Image. Vårt sista argument är en punkt som visar var vi kan hitta dockerfilen, som just nu är rotmappen (där vi är).

```bash
docker build -t SimpleWebHalloWorld .
```

Andra kommandot skapar och kör en Container av vår Image. "-d" gör att containern körs i bakgrunden.



> En Container är en enhet av mjukvara som packar upp kod och alla dess dependencies så att en applikation kan köras snabbt och stabilt från en utvecklings miljö till en annan.



"-p" gör att vi matchar en extern port med en intern port (extern-port:intern-port). "--name" gör att vi först kan ange namn på Containern och sedan på vår Image.

```bash
docker run -d -p 80:80 --name OurContainer SimpleWebHalloWorldImage
```

Nu kan du öppna din webbläsare och söka på http://localhost:80 och se att din Contatiner körs som den ska.

**Docker Compose**

> Docker Compose är ett verktyg som man kan använda till att definera och köra multi-container Docker-applikationer. Med compose använder man en YAML fil för att konfigurera våra containers i docker. Sen med ett enda kommando kan du skapa och starta alla services från konfigurationen. 

Skapa en fil i rotmappen med namnet: "docker-compose.yml".

Klistra in denna text: 

```dockerfile
version: '3'
services:
  web:
    build: .
    ports:
      - "80:80"
  redis:
    image: "redis:alpine"
```

För att sätta igång din applikation, skriv in detta kommandot: 

```bash
docker-compose up

```

För att se alla containers och alla images som körs kan du köra detta kommandot:

```
docker ps
```



# Övning 2. 